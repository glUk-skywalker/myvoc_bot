version: '3'
services:
  chrome:
    image: selenium/standalone-chrome:3.141.59
    restart: unless-stopped

  bot:
    build:
      context: ./bot
    restart: unless-stopped
    depends_on:
      - chrome
    environment:
      BOT_TOKEN: 99999999:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
    volumes:
      - ./volume:/data

  backuper:
    build:
      context: ./backuper
    restart: unless-stopped
    environment:
      BOT_TOKEN: 99999999:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
      CHAT_ID: 111111111
      TZ: Europe/Moscow
    volumes:
      - ./volume:/data
    command: bash -c "bundle exec ruby run.rb >> /data/backuper.log 2>&1"
